package org.terrier.matching.models;

public class TFIDF0 extends WeightingModel {

	private static final long serialVersionUID = 1L;
	private static final String name = "TFIDF0";
	private double k_1 = 1.2d;
	private double b = 0.75d;

	public TFIDF0() {super();}

	public TFIDF0(double _b) {
		this();
		this.b = _b;
	}

	public final String getInfo() {return name;}

	public final double score(double tf, double docLength) {
		double Robertson_tf = k_1*tf/(tf+k_1*(1-b+b*docLength/averageDocumentLength));
		double idf = WeightingModelLibrary.log(numberOfDocuments/documentFrequency+1);
		return keyFrequency * Robertson_tf * idf;
	}

	@Deprecated
	@Override
	public final double score(
		double tf,
		double docLength,
		double documentFrequency,
		double termFrequency,
		double keyFrequency) 
	{
		double Robertson_tf = k_1*tf/(tf+k_1*(1-b+b*docLength/averageDocumentLength));
		double idf = WeightingModelLibrary.log(numberOfDocuments/documentFrequency+1);
		return keyFrequency*Robertson_tf * idf;

	}

	public void setParameter(double _b) {this.b = _b;}

	public double getParameter() {return this.b;}
}
